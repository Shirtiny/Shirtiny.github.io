<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DPlayer",[],t):"object"==typeof exports?exports.DPlayer=t():e.DPlayer=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=53)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(5),o=n(37),r=Object.prototype.toString;function s(e){return"[object Array]"===r.call(e)}function l(e){return null!==e&&"object"===i(e)}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!==i(e)&&(e=[e]),s(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else 0="==e},isDate:function(e){return"[object" for(var o in e)object.prototype.hasownproperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports="{isArray:s,isArrayBuffer:function(e){return"[object" arraybuffer]"="==r.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof" formdata&&e instanceof formdata},isarraybufferview:function(e){return"undefined"!="typeof" arraybuffer&&arraybuffer.isview?arraybuffer.isview(e):e&&e.buffer&&e.buffer arraybuffer},isstring:function(e){return"string"="=typeof" e},isnumber:function(e){return"number"="=typeof" e},isobject:l,isundefined:function(e){return void date]"="==r.call(e)},isFile:function(e){return"[object" file]"="==r.call(e)},isBlob:function(e){return"[object" blob]"="==r.call(e)},isFunction:c,isStream:function(e){return" l(e)&&c(e.pipe)},isurlsearchparams:function(e){return"undefined"!="typeof" urlsearchparams&&e urlsearchparams},isstandardbrowserenv:function(){return("undefined"="=typeof" navigator||"reactnative"!="=navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof" window&&"undefined"!="typeof" document},foreach:u,merge:function e(){var t="{};function" n(n,a){"object"="==i(t[a])&&"object"===i(n)?t[a]=e(t[a],n):t[a]=n}for(var" a="0,o=arguments.length;a<o;a++)u(arguments[a],n);return" t},deepmerge:function t},extend:function(e,t,n){return u(t,function(t,i){e[i]="n&&"function"==typeof" t?a(t,n):t}),e},trim:function(e){return e.replace( ^\s* ,"").replace( \s*$ ,"")}}},function(e,t,n){var i="n(13);e.exports=function(e){"use" strict";var ,n="(e=e||{}).enableSubtitle,a=e.subtitle,o=e.current,r=e.pic,s=i.$escape,l=e.screenshot,c=e.preload,u=e.url;n=a&&"webvtt"===a.type;return" t+="\n<video\n    class="dplayer-video " ,o&&(t+="dplayer-video-current" ),t+=""\n    webkit-playsinline\n    playsinline\n    " ,r&&(t+="poster="" ,t+="s(r),t+='"'),t+="\n" ",(l||n)&&(t+="crossorigin="anonymous"" ,c&&(t+="preload="" ",u&&(t+="src="">\n    ",n&&(t+='\n    <track kind="metadata" default src="',t+=s(a.url),t+='">\n    '),t+="\n"}},function(e,t,n){e.exports=n(36)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},function(e,t){var n,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===cleartimeout)return cleartimeout(e);if((i="==r||!i)&&clearTimeout)return" i="clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return" i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun="e,this.array=t}function" y(){}a.nexttick="function(e){var" t="new" array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!="=c.length||u||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw" new error("process.binding is not supported")},a.cwd="function(){return"/"},a.chdir=function(e){throw" error("process.chdir supported")},a.umask="function(){return" 0}},function(e,t,n){"use strict";e.exports="function(e,t){return" function(){for(var n="new" array(arguments.length),i="0;i<n.length;i++)n[i]=arguments[i];return" e.apply(t,n)}}},function(e,t,n){"use strict";var i="n(0);function" a(e){return encodeuricomponent(e).replace( %40 gi,"@").replace( %3a gi,":").replace( %24 g,"$").replace( %2c gi,",").replace( %20 g,"+").replace( %5b gi,"[").replace( %5d gi,"]")}e.exports="function(e,t,n){if(!t)return" e;var o;if(n)o="n(t);else" if(i.isurlsearchparams(t))o="t.toString();else{var" r="[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(a(t)+"="+a(e))}))}),o=r.join("&")}if(o){var" s="e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return" e}},function(e,t,n){"use strict";(function(t){var r(e,t){!i.isundefined(e)&&i.isundefined(e["content-type"])&&(e["content-type"]="t)}var" s,l="{adapter:(void" 0!="=t&&"[object" process]"="==Object.prototype.toString.call(t)?s=n(9):"undefined"!=typeof" xmlhttprequest&&(s="n(9)),s),transformRequest:[function(e,t){return" a(t,"accept"),a(t,"content-type"),i.isformdata(e)||i.isarraybuffer(e)||i.isbuffer(e)||i.isstream(e)||i.isfile(e)||i.isblob(e)?e:i.isarraybufferview(e)?e.buffer:i.isurlsearchparams(e)?(r(t,"application x-www-form-urlencoded;charset="utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof" e)try{e="JSON.parse(e)}catch(e){}return" e}],timeout:0,xsrfcookiename:"xsrf-token",xsrfheadername:"x-xsrf-token",maxcontentlength:-1,validatestatus:function(e){return e>=200&&e<300}};l.headers={common:{accept:"application 0="==u&&"content-type"===t.toLowerCase()?delete" json, text plain, * *"}},i.foreach(["delete","get","head"],function(e){l.headers[e]="{}}),i.forEach(["post","put","patch"],function(e){l.headers[e]=i.merge(o)}),e.exports=l}).call(this,n(4))},function(e,t,n){"use" strict";var i="n(0),a=n(43),o=n(6),r=n(45),s=n(46),l=n(10);e.exports=function(e){return" new promise(function(t,c){var u="e.data,d=e.headers;i.isFormData(u)&&delete" d["content-type"];var p="new" xmlhttprequest;if(e.auth){var h="e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic" "+btoa(h+":"+m)}if(p.open(e.method.touppercase(),o(e.url,e.params,e.paramsserializer),!0),p.timeout="e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var" n="getAllResponseHeaders" in p?r(p.getallresponseheaders()):null,i="{data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};a(t,c,i),p=null}},p.onabort=function(){p&&(c(l("Request" aborted",e,"econnaborted",p)),p="null)},p.onerror=function(){c(l("Network" error",e,null,p)),p="null},p.ontimeout=function(){c(l("timeout" of "+e.timeout+"ms exceeded",e,"econnaborted",p)),p="null},i.isStandardBrowserEnv()){var" y="n(47),f=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void" 0;f&&(d[e.xsrfheadername]="f)}if("setRequestHeader"in" p&&i.foreach(d,function(e,t){void d[t]:p.setrequestheader(t,e)}),e.withcredentials&&(p.withcredentials="!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw" t}"function"="=typeof" e.ondownloadprogress&&p.addeventlistener("progress",e.ondownloadprogress),"function"="=typeof" e.onuploadprogress&&p.upload&&p.upload.addeventlistener("progress",e.onuploadprogress),e.canceltoken&&e.canceltoken.promise.then(function(e){p&&(p.abort(),c(e),p="null)}),void" r="new" error(e);return i(r,t,n,a,o)}},function(e,t,n){"use i.foreach(["url","method","params","data"],function(e){void 0!="=t[e]&&(n[e]=t[e])}),i.forEach(["headers","auth","proxy"],function(a){i.isObject(t[a])?n[a]=i.deepMerge(e[a],t[a]):void" strict";function i(e){this.message="e}i.prototype.toString=function(){return"Cancel"+(this.message?":" "+this.message:"")},i.prototype.__cancel__="!0,e.exports=i},function(e,t,n){"use" strict";e.exports="n(52)},function(e,t,n){"use" strict";(function(e){var a(e){return(a="function" =="typeof" symbol&&"symbol"="=typeof" symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"="=typeof" symbol&&e.constructor="==Symbol&&e!==Symbol.prototype?"symbol":typeof" e})(e)}var o="setTimeout;function" r(){}function s(e){if(!(this instanceof s))throw typeerror("promises must be constructed via new");if("function"!="typeof" e)throw typeerror("not a function");this._state="0,this._handled=!1,this._value=void" 0,this._deferreds="[],h(e,this)}function" l(e,t){for(;3="==e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn(function(){var" i;try{i="n(e._value)}catch(e){return" void u(t.promise,e)}c(t.promise,i)}else(1="==e._state?c:u)(t.promise,e._value)})):e._deferreds.push(t)}function" c(e,t){try{if(t="==e)throw" typeerror("a promise cannot resolved with itself.");if(t&&("object"="==a(t)||"function"==typeof" t)){var s)return e._state="3,e._value=t,void" d(e);if("function"="=typeof" n)return h((i="n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){u(e,t)}var" i,o}function u(e,t){e._state="2,e._value=t,d(e)}function" d(e){2="==e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var" t="0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function" p(e,t,n){this.onfulfilled="function" e?e:null,this.onrejected="function" t?t:null,this.promise="n}function" h(e,t){var this.then(null,e)},s.prototype.then="function(e,t){var" this.constructor(r);return l(this,new p(e,t,n)),n},s.prototype.finally="i.a,s.all=function(e){return" s(function(t,n){if(!e||void typeerror("promise.all accepts an array");var t([]);var r(e,s){try{if(s&&("object"="==a(s)||"function"==typeof" s)){var l="s.then;if("function"==typeof" l)return l.call(s,function(t){r(e,t)},n)}i[e]="s,0==--o&&t(i)}catch(e){n(e)}}for(var" s="0;s<i.length;s++)r(s,i[s])})},s.resolve=function(e){return" e&&"object"="==a(e)&&e.constructor===s?e:new" s(function(t){t(e)})},s.reject="function(e){return" s(function(t,n){n(e)})},s.race="function(e){return" s(function(t,n){for(var e&&function(t){e(t)}||function(e){o(e,0)},s._unhandledrejectionfn="function(e){"undefined"!=typeof" console&&console&&console.warn("possible unhandled rejection:",e)},t.a="s}).call(this,n(34).setImmediate)},function(e,t,n){"use" strict";t.a="function(e){var" this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.reject(n)})})}},function(e,t){e.exports="<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>" },function(e,t){e.exports="<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>" },function(e,t,n){var strict";e="e||{};var" t,a ,o="(arguments[1],e.video),r=e.options,s=i.$escape,l=e.tran,c=e.icons,u=e.index,d=i.$each;e.$value,e.$index;return" a+="<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    " ,t="n(1)(o),a+=t,a+="\n" ",r.logo&&(a+="\n    <div class="dplayer-logo">\n        <img src="" ,a+="s(r.logo),a+='"">\n    \n    '),a+='\n    <div class="dplayer-danmaku" ',r.danmaku&&r.danmaku.bottm&&(a+=" style="margin-bottom:" ,a+="s(r.danmaku.bottm),a+='"'),a+='">\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',r.danmaku&&(a+='\n        <span class="dplayer-danloading">',a+=s(l("Danmaku is loading")),a+="</span>\n        "),a+='\n        <span class="diplayer-loading-icon">',a+=c.loading,a+='</span>\n    </div>\n\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',a+=s(l(" setting")),a+="" data-balloon-pos="up">\n            <span class="dplayer-icon-content">" ,a+="c.pallette,a+='</span">\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',a+=s(l("Set danmaku color")),a+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',a+=s(u),a+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',a+=s(l("Set danmaku type")),a+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',a+=s(u),a+='" value="1">\n                    <span>',a+=s(l("Top")),a+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',a+=s(u),a+='" value="0" checked>\n                    <span>',a+=s(l("Rolling")),a+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',a+=s(u),a+='" value="2">\n                    <span>',a+=s(l("Bottom")),a+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',a+=s(l(" input danmaku, hit enter")),a+="" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="" ,a+="s(l("Send")),a+='"" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',a+=c.send,a+='</span>\n        \n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',a+=c.play,a+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',a+=c.volumeDown,a+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',a+=s(r.theme),a+=';">\n                        <span class="dplayer-thumb" style="background: ',a+=s(r.theme),a+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',r.live&&(a+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',a+=s(r.theme),a+=';"></span>',a+=s(l("Live")),a+="</span>\n        "),a+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',r.video.quality&&(a+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',a+=s(r.video.quality[r.video.defaultQuality].name),a+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',d(r.video.quality,function(e,t){a+='\n                    <div class="dplayer-quality-item" data-index="',a+=s(t),a+='">',a+=s(e.name),a+="</div>\n                "}),a+="\n                </div>\n            </div>\n        </div>\n        "),a+="\n        ",r.screenshot&&(a+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',a+=s(l(" screenshot")),a+="" data-balloon-pos="up">\n            <span class="dplayer-icon-content">" ,a+="c.camera,a+="</span">\n        </div>\n        "),a+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',a+=s(l(" send danmaku")),a+="" data-balloon-pos="up">\n                <span class="dplayer-icon-content">" ,a+="c.comment,a+="</span">\n            </button>\n        </div>\n        ",r.subtitle&&(a+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',a+=s(l(" hide subtitle")),a+="" data-balloon-pos="up">\n                <span class="dplayer-icon-content">" ,a+="c.subtitle,a+="</span">\n            </button>\n        </div>\n        "),a+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',a+=s(l(" setting")),a+="" data-balloon-pos="up">\n                <span class="dplayer-icon-content">" ,a+="c.setting,a+='</span">\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',a+=s(l("Speed")),a+='</span>\n                        <div class="dplayer-toggle">',a+=c.right,a+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',a+=s(l("Loop")),a+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',a+=s(l("Show danmaku")),a+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',a+=s(l("Unlimited danmaku")),a+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',a+=s(l("Opacity for danmaku")),a+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    <div class="dplayer-setting-speed-item" data-speed="0.5">\n                        <span class="dplayer-label">0.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="0.75">\n                        <span class="dplayer-label">0.75</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1">\n                        <span class="dplayer-label">',a+=s(l("Normal")),a+='</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.25">\n                        <span class="dplayer-label">1.25</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.5">\n                        <span class="dplayer-label">1.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="2">\n                        <span class="dplayer-label">2</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',a+=s(l(" web full screen")),a+="" data-balloon-pos="up">\n                <span class="dplayer-icon-content">" ,a+="c.fullWeb,a+='</span">\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',a+=s(l(" full screen")),a+="" data-balloon-pos="up">\n                <span class="dplayer-icon-content">" ,a+="c.full,a+='</span">\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',a+=s(r.theme),a+='">\n                <span class="dplayer-thumb" style="background: ',a+=s(r.theme),a+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',r.danmaku&&(a+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danamku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danamku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danamku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),a+='\n</div>\n<div class="dplayer-menu">\n    ',d(r.contextmenu,function(e,t){a+='\n        <div class="dplayer-menu-item">\n            <a',e.link&&(a+=' target="_blank" '),a+=" href="" ,a+="s(e.link||"javascript:void(0);"),a+='"">',a+=s(l(e.text)),a+="\n        </a',e.link&&(a+='></div>\n    "}),a+='\n</div>\n<div class="dplayer-notice"></div>'}},function(e,t,n){},function(e,t,n){var i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(35),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,a,o,r,s,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){m(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},i=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):i=function(e){setTimeout(m,0,e)}:(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&m(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(r+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var 0="==e?this:e:self)}).call(this,n(3),n(4))},function(e,t,n){"use" a="{callback:e,args:t};return" c[l]="a,i(l),l++},p.clearImmediate=h}function" h(e){delete c[e]}function m(e){if(u)settimeout(m,0,e);else{var t="c[e];if(t){u=!0;try{!function(e){var" 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{h(e),u="!1}}}}}("undefined"==typeof" self?void strict";var i="n(0),a=n(5),o=n(38),r=n(11);function" s(e){var o(e),n="a(o.prototype.request,t);return" i.extend(n,o.prototype,t),i.extend(n,t),n}var l="s(n(8));l.Axios=o,l.create=function(e){return" s(r(l.defaults,e))},l.cancel="n(12),l.CancelToken=n(50),l.isCancel=n(7),l.all=function(e){return" promise.all(e)},l.spread="n(51),e.exports=l,e.exports.default=l},function(e,t){e.exports=function(e){return" null!="e&&null!=e.constructor&&"function"==typeof" e.constructor.isbuffer&&e.constructor.isbuffer(e)}},function(e,t,n){"use l(e){this.defaults="e,this.interceptors={request:new" o,response:new o}}l.prototype.request="function(e){"string"==typeof" e?(e="arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var" 0],n="Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return" n},l.prototype.geturi="function(e){return" e="s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return" this.request(i.merge(n||{},{method:e,url:t}))}}),i.foreach(["post","put","patch"],function(e){l.prototype[e]="function(t,n,a){return" this.request(i.merge(a||{},{method:e,url:t,data:n}))}}),e.exports="l},function(e,t,n){"use" a(){this.handlers="[]}a.prototype.use=function(e,t){return" this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject="function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},function(e,t,n){"use" c(e){e.canceltoken&&e.canceltoken.throwifrequested()}e.exports="function(e){return" c(e),e.baseurl&&!s(e.url)&&(e.url="l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete" e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return c(e),t.data="a(t.data,t.headers,e.transformResponse),t},function(t){return" o(t)||(c(e),t&&t.response&&(t.response.data="a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use" i.foreach(n,function(n){e="n(e,t)}),e}},function(e,t,n){"use" e[i])})}},function(e,t,n){"use failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports="function(e,t,n,i,a){return" e.config="t,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use" t,n,o,r="{};return" e?(i.foreach(e.split("\n"),function(e){if(o="e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(r[t]&&a.indexOf(t)">=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}}),r):r}},function(e,t,n){"use strict";var i=n(0);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=i.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(0);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,a,o,r){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(12);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";(function(t){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},i=Object.create(n),a=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,n=a.exec(t);if(!n)return e;var i="",o=void 0,r=void 0,s=void 0;for(o=n.index,r=0;o<t.length;o++){switch(t.charcodeat(o)){case 34:s="&#34;" ;break;case 38:s="&#38;" 39:s="&#39;" 60:s="&#60;" 62:s="&#62;" ;break;default:continue}r!="=o&&(i+=t.substring(r,o)),r=o+1,i+=s}return" r!="=o?i+t.substring(r,o):i}(function" e(t){"string"!="typeof" t&&(t="null==t?"":"function"==typeof" t?e(t.call(t)):json.stringify(t));return t}(e))},i.$each="function(e,t){if(Array.isArray(e))for(var" n="0,i=e.length;n<i;n++)t(e[n],n);else" for(var a in e)t(e[a],a)},e.exports="i}).call(this,n(3))},function(e,t,n){"use" strict";n.r(t);n(33);var i="n(14),a=/mobile/i.test(window.navigator.userAgent),o={secondToTime:function(e){var" t="Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*n);return(t">0?[t,n,i]:[n,i]).map(function(e){return e<10?"0"+e:""+e}).join(":")},getelementviewleft:function(e){var 0="==t?0:t,i=e.top,a=void" t="e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else" for(;null!="=n;)t+=n.offsetLeft,n=n.offsetParent;return" t-i},getboundingclientrectviewleft:function(e){var this.getboundingclientrectviewleft.offset){var n="document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-t,document.body.removeChild(n),n=null}var" i="e.getBoundingClientRect(),a=this.getBoundingClientRectViewLeft.offset;return" i.left+a}return this.getelementviewleft(e)},getscrollposition:function(){return{left:window.pagexoffset||document.documentelement.scrollleft||document.body.scrollleft||0,top:window.pageyoffset||document.documentelement.scrolltop||document.body.scrolltop||0}},setscrollposition:function(e){var localstorage.getitem(e)}},cumulativeoffset:function(e){var 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},r="n(2),s=n.n(r),l={send:function(e){s.a.post(e.url,e.data).then(function(t){var" c(e){return(c="function" =="typeof" symbol&&"symbol"="=typeof" symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"="=typeof" symbol&&e.constructor="==Symbol&&e!==Symbol.prototype?"symbol":typeof" e})(e)}var u="function(e){var" in t)t.hasownproperty(n)&&!e.hasownproperty(n)&&(e[n]="t[n]);return" e.video&&!e.video.type&&(e.video.type="auto" ),"object"="==c(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=e.video.quality[e.video.defaultQuality].url),e.lang&&(e.lang=e.lang.toLowerCase()),e.contextmenu=e.contextmenu.concat([{text:"Video" info",click:function(e){e.infopanel.triggle()}},{text:"about author",link:"https: diygod.me"},{text:"dplayer v".concat("1.25.0"),link:"https: github.com moeplayer dplayer"}]),e};var d="{"zh-cn":{"Danmaku" is loading":"弹幕加载中",top:"顶部",bottom:"底部",rolling:"滚动","input danmaku, hit enter":"输入弹幕，回车发送","about author":"关于作者","dplayer feedback":"播放器意见反馈","about dplayer":"关于 dplayer 播放器",loop:"洗脑循环",speed:"速度","opacity for danmaku":"弹幕透明度",normal:"正常","please input danmaku content!":"要输入弹幕内容啊喂！","set color":"设置弹幕颜色","set type":"设置弹幕类型","show danmaku":"显示弹幕","video load failed":"视频加载失败","danmaku failed":"弹幕加载失败","danmaku send failed":"弹幕发送失败","switching to":"正在切换至","switched to":"已经切换至",quality:"画质",ff:"快进",rew:"快退","unlimited danmaku":"海量弹幕","send danmaku":"发送弹幕",setting:"设置","full screen":"全屏","web full screen":"页面全屏",send:"发送",screenshot:"截图",s:"秒","show subtitle":"显示字幕","hide subtitle":"隐藏字幕",volume:"音量",live:"直播","video info":"视频统计信息"},"zh-tw":{"danmaku loading":"彈幕載入中",top:"頂部",bottom:"底部",rolling:"滾動","input enter":"輸入彈幕，enter 發送","about author":"關於作者","dplayer feedback":"播放器意見回饋","about dplayer":"關於 播放器",loop:"循環播放",speed:"速度","opacity danmaku":"彈幕透明度",normal:"正常","please content!":"請輸入彈幕內容啊！","set color":"設定彈幕顏色","set type":"設定彈幕類型","show danmaku":"顯示彈幕","video failed":"影片載入失敗","danmaku failed":"彈幕載入失敗","danmaku failed":"彈幕發送失敗","switching to":"正在切換至","switched to":"已經切換至",quality:"畫質",ff:"快進",rew:"快退","unlimited danmaku":"巨量彈幕","send danmaku":"發送彈幕",setting:"設定","full screen":"全螢幕","web screen":"頁面全螢幕",send:"發送",screenshot:"截圖",s:"秒","show subtitle":"顯示字幕","hide subtitle":"隱藏字幕",volume:"音量",live:"直播","video info":"影片統計訊息"}},p="function(e){var" d[t.lang]&&d[t.lang][e]?d[t.lang][e]:e}},h="n(16),m=n.n(h),y=n(17),f=n.n(y),v=n(18),g=n.n(v),b=n(19),w=n.n(b),k=n(20),x=n.n(k),S=n(21),T=n.n(S),L=n(22),E=n.n(L),q=n(23),B=n.n(q),M=n(24),C=n.n(M),_=n(25),F=n.n(_),P=n(26),D=n.n(P),z=n(27),j=n.n(z),O=n(28),I=n.n(O),R=n(29),A=n.n(R),W=n(30),H=n.n(W),N=n(31),V=n.n(N),U={play:m.a,pause:f.a,volumeUp:g.a,volumeDown:w.a,volumeOff:x.a,full:T.a,fullWeb:E.a,setting:B.a,right:C.a,comment:F.a,commentOff:D.a,send:j.a,pallette:I.a,camera:A.a,subtitle:H.a,loading:V.a},X=n(32),$=n.n(X);function" q(e,t){for(var i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" j="function(){function" e(t){!function(e,t){if(!(e instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.container="t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.init()}var" t,n,i;return .dplayer-icon-content"),this.playedbar="this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop" .dplayer-toggle-setting-input"),this.showdanmaku="this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon" path"),this.commentsendbutton="this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon" path"),this.commentcolorsettingbox="this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon" .dplayer-icon-content"),this.subtitle="this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version" .dplayer-info-panel-item-data"),this.infofps="this.container.querySelector(".dplayer-info-panel-item-fps" .dplayer-info-panel-item-data"),this.infotype="this.container.querySelector(".dplayer-info-panel-item-type" .dplayer-info-panel-item-data"),this.infourl="this.container.querySelector(".dplayer-info-panel-item-url" .dplayer-info-panel-item-data"),this.inforesolution="this.container.querySelector(".dplayer-info-panel-item-resolution" .dplayer-info-panel-item-data"),this.infoduration="this.container.querySelector(".dplayer-info-panel-item-duration" .dplayer-info-panel-item-data"),this.infodanmakuid="this.container.querySelector(".dplayer-info-panel-item-danmaku-id" .dplayer-info-panel-item-data"),this.infodanmakuapi="this.container.querySelector(".dplayer-info-panel-item-danmaku-api" .dplayer-info-panel-item-data"),this.infodanmakuamount="this.container.querySelector(".dplayer-info-panel-item-danmaku-amount" .dplayer-info-panel-item-data")}}])&&q(t.prototype,n),i&&q(t,i),e}();function y(e){return(y="function" e})(e)}function k(e,t){for(var g="function(){function" function")}(this,e),this.options="t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var" e,t="this;e=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var" e.time-t.time}),window.requestanimationframe(function(){t.frame()}),t.options.callback(),t.events&&t.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(e){this.options.api="e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var" failed")),i[o]="[],++a===e.length&&t(i)}})},r=0;r<e.length;++r)o(r)}},{key:"send",value:function(e,t){var" failed"))}}),this.dan.splice(this.danindex,0,i),this.danindex++;var solid ".concat(this.options.bordercolor)};this.draw(a),this.events&&this.events.trigger("danmaku_send",i)}},{key:"frame",value:function(){var e="this;if(this.dan.length&&!this.paused&&this.showing){for(var">parseFloat(t.time);)n.push(t),t=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){e.frame()})}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t="this;if(this.showing){var" n="this.options.height,i=this.container.offsetWidth,a=this.container.offsetHeight,r=parseInt(a/n),s=function(e){var" t.container.getboundingclientrect().right-i},l="function(e){return(i+e)/5},c=function(e,n,a){for(var" o="i/l(a),c=function(a){var" c="t.danTunnel[n][a+""];if(!c||!c.length)return" t.dantunnel[n][a+""]="[e],e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%r};if("right"!==n)return"continue";for(var" u="0;u<c.length;u++){var" d="s(c[u])-10;if(d<=i-o*l(parseInt(c[u].style.width))||d<=0)break;if(u===c.length-1)return" t.dantunnel[n][a+""].push(e),e.addeventlistener("animationend",function(){t.dantunnel[n][a+""].splice(0,1)}),{v:a%r}}},u="0;t.unlimited||u<r;u++){var" d.v}}return-1};"[object array]"!="=Object.prototype.toString.call(e)&&(e=[e]);for(var" r="document.createElement("div");r.classList.add("dplayer-danmaku-item"),r.classList.add("dplayer-danmaku-".concat(e[a].type)),e[a].border?r.innerHTML='<span" style="border:'.concat(e[a].border,'">').concat(e[a].text,""):r.innerHTML=e[a].text,r.style.opacity=t._opacity,r.style.color=o.number2Color(e[a].color),r.addEventListener("animationend",function(){t.container.removeChild(r)});var s=t._measure(e[a].text),l=void 0;switch(e[a].type){case"right":(l=c(r,e[a].type,s))>=0&&(r.style.width=s+1+"px",r.style.top=n*l+"px",r.style.transform="translateX(-".concat(i,"px)"));break;case"top":(l=c(r,e[a].type))>=0&&(r.style.top=n*l+"px");break;case"bottom":(l=c(r,e[a].type))>=0&&(r.style.bottom=n*l+"px");break;default:console.error("Can't handled danmaku type: ".concat(e[a].type))}l>=0&&(r.classList.add("dplayer-danmaku-move"),u.appendChild(r))},p=0;p<e.length;p++)d(p);return this.container.appendchild(u),u}}},{key:"play",value:function(){this.paused="!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var" t="getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return" this.context.measuretext(e).width}},{key:"seek",value:function(){this.clear();for(var e="0;e<this.dan.length;e++){if(this.dan[e].time">=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(//g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translatex(-".concat(e,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}])&&k(t.prototype,n),i&&k(t,i),e}();function z(e,t){for(var n="0;n<t.length;n++){var" i="t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in" i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" ee="function(){function" e(){!function(e,t){if(!(e instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.events="{},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var" t,n,i;return t="e,(n=[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof" t&&(this.events[e]||(this.events[e]="[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var" event name: ".concat(e)),null)}}])&&z(t.prototype,n),i&&z(t,i),e}();function te(e,t){for(var ne="function(){function" e(t){var function")}(this,e),this.player="t,this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),o.setScrollPosition(n.lastScrollPosition)});var" e="document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e!==n.player.container||(n.player.resize(),e?n.player.events.trigger("fullscreen"):(o.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",a),document.addEventListener("fullscreenchange",a)):(this.player.container.addEventListener("fullscreenchange",i),this.player.container.addEventListener("webkitfullscreenchange",i),document.addEventListener("msfullscreenchange",a),document.addEventListener("MSFullscreenChange",a))}var">0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=o.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}])&&te(t.prototype,n),i&&te(t,i),e}();function ie(e,t){for(var n=0;n<t.length;n++){var i="t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in" i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" ae="function(){function" e(t){!function(e,t){if(!(e instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.storagename="{opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.hasOwnProperty("volume")?t.options.volume:.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var" t,n,i;return t="e,(n=[{key:"init",value:function(){for(var" e in this.storagename){var this.data[e]}},{key:"set",value:function(e,t){this.data[e]="t,o.storage.set(this.storageName[e],t)}}])&&ie(t.prototype,n),i&&ie(t,i),e}();function" oe(e,t){for(var n="0;n<t.length;n++){var" re="function(){function" e(t,n,i,a){!function(e,t){if(!(e function")}(this,e),this.container="t,this.video=n,this.options=i,this.events=a,this.init()}var" e.container.innerhtml ;e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classlist.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classlist.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classlist.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&oe(t.prototype,n),i&&oe(t,i),e}();function se(e,t){for(var le="function(){function" function")}(this,e),this.elements="{},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}var" parsefloat(this.elements[e].style.width) 100}}])&&se(t.prototype,n),i&&se(t,i),e}();function ce(e,t){for(var ue="function(){function" function")}(this,e),this.player="t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading","info","fps"],this.init()}var">t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),i=!1),t=n)},100)}},{key:"initfpsChecker",value:function(){var e=this;window.requestAnimationFrame(function(){if(e.enablefpsChecker)if(e.initfpsChecker(),e.fpsStart){e.fpsIndex++;var t=new Date;t-e.fpsStart>1e3&&(e.player.infoPanel.fps(e.fpsIndex/(t-e.fpsStart)*1e3),e.fpsStart=new Date,e.fpsIndex=0)}else e.fpsStart=new Date,e.fpsIndex=0;else e.fpsStart=0,e.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var e=this;this.infoChecker=setInterval(function(){e.enableinfoChecker&&e.player.infoPanel.update()},1e3)}},{key:"enable",value:function(e){this["enable".concat(e,"Checker")]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable".concat(e,"Checker")]=!1}},{key:"destroy",value:function(){var e=this;this.types.map(function(t){return e["enable".concat(t,"Checker")]=!1,e["".concat(t,"Checker")]&&clearInterval(e["".concat(t,"Checker")]),t})}}])&&ce(t.prototype,n),i&&ce(t,i),e}();function de(e,t){for(var n=0;n<t.length;n++){var i="t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in" i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" pe="function(){function" e(t){var n="this;!function(e,t){if(!(e" instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.container="t,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}var" t,n,i;return t="e,(n=[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}])&&de(t.prototype,n),i&&de(t,i),e}();function" he(e,t){for(var me="function(){function" e(t){!function(e,t){if(!(e 0"),this.container.style.left .concat(math.min(math.max(e-this.container.offsetwidth 2,-10),this.barwidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none" ,this.events&&this.events.trigger("thumbnails_hide")}}])&&he(t.prototype,n),i&&he(t,i),e}();function ye(e,t){for(var fe="function(){function" function")}(this,e),this.player="t,this.autoHideTimer=0,o.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),o.isMobile||this.initVolumeButton()}var" e="this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),o.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initHighlights",value:function(){var">'+e.player.options.highlight[n].text+"",e.player.template.playedBarWrap.insertBefore(i,e.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new me({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160,e.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-o.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.template.ptime.innerHTML=o.secondToTime(n*e.player.video.duration)},n=function n(i){document.removeEventListener(o.nameMap.dragEnd,n),document.removeEventListener(o.nameMap.dragMove,t);var a=((i.clientX||i.changedTouches[0].clientX)-o.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(o.nameMap.dragStart,function(){e.player.timer.disable("progress"),document.addEventListener(o.nameMap.dragMove,t),document.addEventListener(o.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(o.nameMap.dragMove,function(t){if(e.player.video.duration){var n=o.cumulativeOffset(e.player.template.playedBarWrap).left,i=(t.clientX||t.changedTouches[0].clientX)-n;if(i<0||i>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(i/e.player.template.playedBarWrap.offsetWidth);o.isMobile&&e.thumbnails&&e.thumbnails.show(),e.thumbnails&&e.thumbnails.move(i),e.player.template.playedBarTime.style.left="".concat(i-(a>=3600?25:20),"px"),e.player.template.playedBarTime.innerText=o.secondToTime(a),e.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(o.nameMap.dragEnd,function(){o.isMobile&&e.thumbnails&&e.thumbnails.hide()}),o.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-o.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)},n=function n(){document.removeEventListener(o.nameMap.dragEnd,n),document.removeEventListener(o.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-o.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(o.nameMap.dragStart,function(){document.addEventListener(o.nameMap.dragMove,t),document.addEventListener(o.nameMap.dragEnd,n),e.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=U.volumeOff,e.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t,n=document.createElement("canvas");n.width=e.player.video.videoWidth,n.height=e.player.video.videoHeight,n.getContext("2d").drawImage(e.player.video,0,0,n.width,n.height),n.toBlob(function(e){t=URL.createObjectURL(e);var n=document.createElement("a");n.href=t,n.download="DPlayer.png",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}),e.player.events.trigger("screenshot",t)})}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&ye(t.prototype,n),i&&ye(t,i),e}();function ve(e,t){for(var n=0;n<t.length;n++){var i="t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in" i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" ge="function(){function" e(t){var n="this;!function(e,t){if(!(e" instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.player="t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var" r="function(e){var" t="e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-o.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},s=function" e(){document.removeeventlistener(o.namemap.dragend,e),document.removeeventlistener(o.namemap.dragmove,r),n.player.template.danmakuopacitybox.classlist.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuopacitybarwrapwrap.addeventlistener("click",function(e){var t,n,i;return e="this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&ve(t.prototype,n),i&&ve(t,i),e}();function" be(e,t){for(var we="function(){function" input:checked").value),type:parseint(this.player.container.queryselector(".dplayer-comment-setting-type input:checked").value)},function(){e.player.template.commentinput.value ,e.hide()}):this.player.notice(this.player.tran("please input danmaku content!"))}}])&&be(t.prototype,n),i&&be(t,i),e}();var ke="function" e(t){!function(e,t){if(!(e function")}(this,e),t.options.hotkey&&document.addeventlistener("keydown",function(e){if(t.focus){var a,o="e||window.event;switch(o.keyCode){case" 32:o.preventdefault(),t.toggle();break;case 37:o.preventdefault(),t.seek(t.video.currenttime-5),t.controller.setautohide();break;case 39:o.preventdefault(),t.seek(t.video.currenttime+5),t.controller.setautohide();break;case 38:o.preventdefault(),a="t.volume()+.1,t.volume(a);break;case" 40:o.preventdefault(),a="t.volume()-.1,t.volume(a)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case" 27:t.fullscreen.isfullscreen("web")&&t.fullscreen.cancel("web")}})};function xe(e,t){for(var se="function(){function">=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&xe(t.prototype,n),i&&xe(t,i),e}();function Te(e,t){for(var n=0;n<t.length;n++){var i="t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in" i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}var" le="function(){function" e(t){var n="this;!function(e,t){if(!(e" instanceof t))throw new typeerror("cannot call a class as function")}(this,e),this.container="t.template.infoPanel,this.template=t.template,this.video=t.video,this.player=t,this.template.infoPanelClose.addEventListener("click",function(){n.hide()})}var" t,n,i;return t="e,(n=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.25.0","" ").concat("8eb2fdd"),this.template.infotype.innerhtml="this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth,"" x ").concat(this.player.video.videoheight),this.template.infoduration.innerhtml="this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(e){this.template.infoFPS.innerHTML="".concat(e.toFixed(1))}}])&&Te(t.prototype,n),i&&Te(t,i),e}(),Ee=n(1),qe=n.n(Ee);function" be(e,t){for(var me="0,Ce=[],_e=function(){function" function")}(this,e),this.options="u(t),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new" p(this.options.lang).tran,this.events="new" ee,this.user="new" ae(this),this.container="this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),o.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new" j({container:this.container,options:this.options,index:me,tran:this.tran}),this.video="this.template.video,this.bar=new" le(this.template),this.bezel="new" pe(this.template.bezel),this.fullscreen="new" ne(this),this.controller="new" fe(this),this.options.danmaku&&(this.danmaku="new" g({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){settimeout(function(){n.template.danmakuloading.style.display="none" ,n.options.autoplay&&n.play()},0)},error:function(e){n.notice(e)},apibackend:this.options.apibackend,bordercolor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currenttime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(e){return n.tran(e)}}),this.comment="new" we(this)),this.setting="new" ge(this),document.addeventlistener("click",function(){n.focus="!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.timer=new" ue(this),this.hotkey="new" ke(this),this.contextmenu="new" se(this),this.initvideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infopanel="new" le(this),!this.danmaku&&this.options.autoplay&&this.play(),me++,ce.push(this)}var t,n,a;return ").concat((e-this.video.currenttime).tofixed(0)," ").concat(this.tran("s"))):this.video.currenttime>e&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-e).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width"),this.template.ptime.innerHTML=o.secondToTime(e)}},{key:"play",value:function(){var e=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(U.play),this.template.playButton.innerHTML=U.pause,i.a.resolve(this.video.play()).catch(function(){e.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var t=0;t<ce.length;t++)this!==ce[t]&&ce[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classlist.remove("dplayer-loading"),this.video.paused||this.bezel.switch(u.pause),this.template.playbutton.innerhtml=u.play,this.video.pause(),this.timer.disable("loading"),this.container.classlist.remove("dplayer-playing"),this.container.classlist.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchvolumeicon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=U.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=U.volumeDown:this.template.volumeIcon.innerHTML=U.volumeOff}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var i="".concat((100*e).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=i,t||this.user.set("volume",e),n||this.notice("".concat(this.tran("Volume")," ").concat((100*e).toFixed(0),"%")),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: ".concat(t));else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(e.src),i.attachMedia(e)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e),a.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,r=e.src;o.add(r,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading")})})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t),this.on("durationchange",function(){1!==e.duration&&e.duration!==1/0&&(n.template.dtime.innerHTML=o.secondToTime(e.duration))}),this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width")}),this.on("error",function(){n.video.error&&n.tran&&n.notice&&(n.type,n.notice(n.tran("Video load failed"),-1))}),this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),n.play()):n.pause(),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play()}),this.on("pause",function(){n.paused||n.pause()}),this.on("timeupdate",function(){n.bar.set("played",n.video.currentTime/n.video.duration,"width");var e=o.secondToTime(n.video.currentTime);n.template.ptime.innerHTML!==e&&(n.template.ptime.innerHTML=e)});for(var i=function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t])})},a=0;a<this.events.videoevents.length;a++)i(a);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new re(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchquality",value:function(e){var t="this;if(e="string"==typeof" e?parseint(e):e,this.qualityindex!="=e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var" n="this.video.paused;this.video.pause();var" i="qe()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),a=(new" domparser).parsefromstring(i,"text html").body.firstchild;this.template.videowrap.insertbefore(a,this.template.videowrap.getelementsbytagname("div")[0]),this.prevvideo="this.video,this.video=a,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching" to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(t.prevvideo){if(t.video.currenttime!="=t.prevVideo.currentTime)return" void t.seek(t.prevvideo.currenttime);t.template.videowrap.removechild(t.prevvideo),t.video.classlist.add("dplayer-video-current"),n||t.video.play(),t.prevvideo="null,t.notice("".concat(t.tran("Switched" ").concat(t.quality.name," ").concat(t.tran("quality"))),t.switchingquality="!1,t.events.trigger("quality_end")}})}}},{key:"notice",value:function(e){var">1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),n>0&&(this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){Ce.splice(Ce.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&Be(t.prototype,n),a&&Be(t,a),e}();console.log("\n".concat(" %c DPlayer v","1.25.0"," ").concat("8eb2fdd"," %c http://dplayer.js.org ","\n","\n"),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");t.default=_e}]).default});
//# sourceMappingURL=DPlayer.min.js.map</this.events.videoevents.length;a++)i(a);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new></ce.length;t++)this!==ce[t]&&ce[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classlist.remove("dplayer-loading"),this.video.paused||this.bezel.switch(u.pause),this.template.playbutton.innerhtml=u.play,this.video.pause(),this.timer.disable("loading"),this.container.classlist.remove("dplayer-playing"),this.container.classlist.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchvolumeicon",value:function(){this.volume()></t.length;n++){var></t.length;n++){var></0||i></t.length;n++){var></t.length;n++){var></t.length;n++)t[n].style.transform="translatex(-".concat(e,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}])&&k(t.prototype,n),i&&k(t,i),e}();function></e.length;p++)d(p);return></t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return></10?"0"+e:""+e}).join(":")},getelementviewleft:function(e){var></t.length;o++){switch(t.charcodeat(o)){case></t.length;n++)t[n]=arguments[n+1];var></300}};l.headers={common:{accept:"application></arguments.length;n++)t[n-1]=arguments[n];c.push(new></t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===cleartimeout)return></a;n++)t.call(null,e[n],n,e);else>